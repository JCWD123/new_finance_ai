# 价值评估与信息结构化处理
NewsSelcetionAndPointsExtractSystemPrompt = "金融新闻分析专家"

NewsSelcetionAndPointsExtractPrompt = """
【核心任务】
实现对金融新闻的全维度价值评估与信息结构化处理，包括：
1. 敏感信息处理
    • 自动识别敏感人名/机构，采用昵称化处理（例："国家领导人、习主席、习总书记 -> 老大"）
2. 信息要素结构化提炼
    • 核心要素提炼：事件主体(3-5个)、关联对象、核心动作、预期结果
    • 关键词提取：提取文章/新闻的与金融行业相关的关键词以及词频
    • 提取热门行业板块：识别热门行业板块（按证监会分类标准）
    • 摘要生成：对新闻内容进行摘要提取（基于原文以及上述精炼的核心要素、关键词、热门行业板块进行提取），并生成三段式摘要（核心事实陈述+市场关联解读+潜在影响预判）和摘要综述
3. 新闻价值多维评估
    • 时效性分级：即时性事件/周期性数据/战略级政策（标注有效时段）
    • 重要度评估：行业级/区域级/国家级/全球级（L1-L4分级）
    • 影响范围建模：绘制关联行业辐射图（核心/次级/边缘影响圈），国内产业链、国际金融市场多方面考虑
    • 持续时间预测：短期波动（<1周）、中期调整（1-3月）、长期趋势（>3月）】
4. 双重视角分析
    • 国内影响：政策监管、行业竞争、资本流动
    • 国际影响：跨境资本、汇率波动、大宗商品联动

【输入参数】
 - 新闻内容: {news}

【处理机制】
‖ 解构输入参数 ‖
- 解构输入的新闻内容：
 ```json
 {{
    "mes": "新闻内容",
    "date": "新闻发布时间",
    "source": "新闻来源网站"
}}
 ```
‖ 四维评估框架 ‖
1. 时效性评估
  时间敏感度：事件发生与当前市场周期的关联性（如财报季/政策窗口期）
  信息滞后性：数据披露时间差对定价效率的影响（例：高频数据>季度数据）
  事件关联性：是否触发市场对相关行业/政策的预期重估（参考分析师共识目标价离散度研究）
2. 重要度评级
  市场冲击强度：对标普500波动率指数(VIX)/国债利差等先行指标的潜在扰动
  政策显著性：涉及货币政策工具创新/监管框架重构等根本性变革（如普惠金融工具扩容）
  企业基本面关联：对EPS修正幅度、ROIC变动阈值的量化影响（参考分析师实地调研的价值发现机制）
3. 影响范围判定
  行业穿透力：是否形成跨行业溢出效应（如数字金融基础设施升级）
  地理辐射度：单一市场事件对跨境资本流动的传导路径
  投资者分层影响：对机构/散户决策行为的差异化作用（注意高离散度目标价对散户的误导风险）
4. 影响时长预测
  短期冲击：事件纳入市场定价的速度（参考北交所定向可转债融资的市场反应）
  中期重构：产业政策/技术变革带来的估值体系调整周期（如数据资产资本化进程）
  长期趋势：是否改变资本成本计算逻辑（例：ESG评级纳入DCF模型）

【输出格式】
{OutputFormatConstraint}

```json
{{
    "content": {{
      "core_elements": {{
        "event_subjects": ["事件主体1", "事件主体2", "事件主体3"],
        "related_objects": ["关联对象1", "关联对象2"],
        "core_actions": ["核心动作描述（动宾结构）"],
        "expected_outcomes": ["预期结果描述"]
      }},
      
      "keywords_analysis": [
          {{"term": "文章关键词1", "frequency": 3}},
          {{"term": "文章关键词1", "frequency": 5}},
          {{"term": "文章关键词1", "frequency": 4}}
      ],
    
      "hot_sectors":[
          "热门行业板块1",
          "热门行业板块2",
          "热门行业板块3"
        ],
    
      "executive_summary": {{
        "fact_statement": "基于核心要素提炼的客观事实陈述，包含事件主体、核心动作和预期结果",
        "market_analysis": "结合关键词和市场指向性术语的行业关联性解读",
        "impact_prediction": "基于行业特征和市场数据的潜在影响预判"
      }},
      "abstract_overview": "摘要综述，对文章进行概括性描述"
    }},
    "all_score": 这里是所有维度的综合加权评分,
    "evaluation_report":{{
        "timeliness": {{
          "score": 92,
          "reason": "评分原因"
        }},
        "importance": {{
          "score": 85,
          "reason": "评分原因"
        }},
        "impact_scope": {{
          "score": 89,
          "reason": "评分原因"
        }},
        "duration": {{
          "score": 83,
          "reason": "评分原因"
        }}
    }},
    "evaluation":"这里是对上面评估报告的一个文字总结，说明了为什么这么评分的理由",
    "date": "2025-03-11",
}}
```
严格遵循JSON格式输出,直接返回有效JSON对象，不要包含任何Markdown代码块或解释性文字
"""

# 主题筛选系统
NewsSelcetionTopicSystemPrompt = "金融分析专家"
NewsSelcetionTopicPrompt = """
[核心任务]
- 实时语义网络构建
- 动态衰减权重计算
- 跨市场事件模式识别
- 多维度市场特征提取
- 事件驱动型模式匹配
- 基于用户主题和用户兴趣画像筛选新闻

[处理流程]
-新闻筛选流程
1. 市场标签匹配（置信度>0.9）
2. 子集群术语验证（命中核心术语）
3. 事件模式识别（金融模板）
4. 动态规则校验（衰减系数/突增阈值）

[输入参数]
- 用户主题: {topics}
- 用户兴趣画像: {user_interest}
- 新闻内容: {news}

[输出格式]
{OutputFormatConstraint}

```json
{{
  "screening_result":{{
    "result": true,
    "score": 85,
    "reason": {{
      "matched_core_topics": ["美股"],
      "matched_sub_topics": ["科技股波动"],
      "score_calculation": "阐述评分的理由"
    }}
  }}
}}
```

严格遵循JSON格式输出,直接返回有效JSON对象，不要包含任何Markdown代码块或解释性文字
"""

# 逻辑筛选系统
FilterLogicalNewsSystemPrompt = "你是一个专业的新闻信息筛选专家，擅长基于用户筛选逻辑画像判断新闻与用户筛选逻辑画像的匹配度"
FilterLogicalNewsPrompt = """
[任务目标]
1. 根据用户筛选逻辑画像，判断新闻与用户筛选逻辑画像的匹配度，并输出筛选结果

[输入参数]
- 用户筛选逻辑画像：{filter_logic_map}
- 新闻数据：{news_data}

[输出格式]
{OutputFormatConstraint}

```json
{{
  "result": 是否匹配筛选逻辑画像true/false,
  "score": 评分(0-100),
  "reason": "评分理由"
}}
```

严格遵循JSON格式输出,直接返回有效JSON对象，不要包含任何Markdown代码块或解释性文字
"""
